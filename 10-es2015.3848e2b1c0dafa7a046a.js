(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(o,t,e){"use strict";e.r(t),e.d(t,"HomePageModule",(function(){return w}));var n=e("ofXK"),s=e("TEn/"),i=e("3Pt+"),r=e("tyNb"),l=e("fXoL"),c=e("jhN1");const h=["scrollDiv"];function a(o,t){if(1&o&&(l.Kb(0,"span",12),l.cc(1),l.Jb()),2&o){const o=l.Tb();l.xb(1),l.ec(" [",o.selected_key,"]")}}function g(o,t){if(1&o&&(l.Kb(0,"ion-label",7),l.cc(1),l.Jb()),2&o){const o=l.Tb();l.xb(1),l.dc(o.writer)}}function d(o,t){if(1&o&&(l.Kb(0,"ion-label",7),l.cc(1),l.Jb()),2&o){const o=l.Tb();l.xb(1),l.dc(o.singer)}}class u{}class S{}const p=[{path:"",component:(()=>{class o{constructor(o,t,e,n){this.zone=o,this.viewportScroller=t,this.ref=e,this.sanitizer=n,this.chords=[],this.isScrollEvent=!0,this.scrollY=!0,this.isKeyChangeShow=!1,this.isChordShow=!1,this.isAutoScrollStop=!1,this.isAutoScrollStarted=!1,this.animMilli=5e4,this.writerTag="\u1010\u1031\u1038\u101b\u1031\u1038 - ",this.singerTag="\u1010\u1031\u1038\u1006\u102d\u102f - ",this.speed=100,this.curY=100,window.componentRef={zone:this.zone,componentFn:o=>this.getValue(o),component:this},window.componentRef1={zone:this.zone,componentFn:o=>this.doFun(o),component:this}}ngOnDestroy(){$("ion-content").off(),$("#song-container").stop(),$("#song-container").off()}doFun(o){switch(o.action){case"toggleKeyChange":this.toggleKey();break;case"hideKeyChange":this.hideKey();break;case"showKeyChange":this.showKey();case"toggleChordDiagram":this.toggleChord();break;case"hideChordDiagram":this.hideChord();break;case"showChordDiagram":this.showChord();break;case"hideAll":this.hideAll();break;case"updateAutoScrollSpeed":this.updateAutoScrollSpeed({detail:{value:o.value}});break;case"startAutoScroll":this.startAutoScroll();break;case"stopAutoScroll":this.stopAutoScroll();break;case"updateAutoScrollSpeed":this.updateAutoScrollSpeed({detail:{value:o.value}})}}hideAll(){this.hideKey(),this.hideChord()}getValue(o){switch(o.action){case"isKeyChangeShow":return this.getKeyChangeShow();case"isSomethingShow":return this.isSomethingShow()}}isSomethingShow(){return this.isKeyChangeShow||this.isChordShow?"true":this.isChordShow||this.isKeyChangeShow?void 0:"false"}ngOnInit(){this.setEvents(),this.setData(),$(document).ready((function(){guitar_chord_writer.init("Key change","up a halftone","down a halftone")}))}showKey(){$("#key-change-container").show(),this.hideChord(),this.isKeyChangeShow=!0}hideKey(){$("#key-change-container").hide(),this.isKeyChangeShow=!1}toggleChord(){this.isChordShow?this.hideChord():this.showChord()}showChord(){$("#chord-diagram").show(),this.hideKey(),this.isChordShow=!0}hideChord(){$("#chord-diagram").hide(),this.isChordShow=!1}toggleKey(){this.isKeyChangeShow?this.hideKey():this.showKey()}setEvents(){let o=this;$("ion-content").on("click",(function(t){o.hideKey()})),this.setAutoScrollEvent()}setData(){this.initChord(),this.initSongToTest()}initSongToTest(){let o=this,t=new S;t.singer="no",t.chord="no",t.composer="no",t.title="Title",t.chord='\n    <div class="song">\n                                                                                  \n<span class="tag">(Verse)</span>\n<p>\n    ([G]\u1001\u1036\u1005\u102c\u1038\u101b\u1006\u102f\u1000\u103b\u1031\u1038\u1007\u1030\u1038\u1000\u1031\u102c\u1004\u103a\u1038\u1000\u103c\u102e\u1038\u1019\u1004\u103a\u1039\u1002\u101c\u102c \u101b\u1031\u1010\u103d\u1000\u103a\u101c\u102d\u102f.\u1001\u103b\u102e\u1038\u1019\u103d\u1019\u103a\u1038\u1000\u102c\u101e\u102e[D]\u1006\u102d\u102f\u1019\u100a\u103a<br/>\n                                                 \n    \u1021\u101e\u1000\u103a[G]\u1019\u103d\u1031\u1038\u101c\u1031\u102c\u1000\u103a\u101e\u1031\u102c\u1021\u1005\u102c\u1000\u102d\u102f &nbsp;&nbsp;&nbsp;\u1014\u1031\u1037[C]&nbsp;\u101b\u1000\u103a\u1005\u1009\u103a\u1010\u102d\u102f\u1004\u103a\u1038<br/> \n                                                   \n    \u1015\u1031\u1038\u101e[G]&nbsp;\u1014\u102c\u1038\u1010\u1031\u102c\u103a\u1019\u1030\u101e\u1031\u102c[D]\u1000\u103c\u1031\u102c\u1004\u1037\u103a \u1000\u103b\u1031\u1038\u1007\u1030\u1038[G]\u1010\u1004\u103a\u101e\u100a\u103a)\u1042 \n</p>\n\n                \n<span class="tag">(Cho)</span> \n<p>\n        \u101e\u102c[C]\u101a\u102c\u101e\u1031\u102c\u1019\u103c\u1005\u103a\u1021\u1014\u102c\u1038\u101e\u102d\u102f\u1037[G] \u101c\u1019\u103a\u1038\u1015\u103c  \u1019\u103e\u102f  \u1015\u103c\u102e \u1005\u102d\u1019\u103a\u1038\u101c\u1014\u103a\u1038\u101e\u1031\u102c\u1021\u101b\u1015\u103a\u104c<br/>\n                                                                                                 \n        \u1021\u102d[D]\u1015\u103a\u1005\u1031\u1019\u1030\u1015\u103c\u102e\u1038 \u1016\u103b\u102c\u1038[G]\u101a\u1031\u102c\u1004\u103a\u1038\u101e\u103d\u1031\u1038\u1006\u1031\u102c\u1004\u103a\u1019\u103e\u102f  \u1021\u1015\u1031\u102b\u1004\u103a\u1038\u1010\u102d\u102f\u1037\u1019\u103e \u101c\u103d\u1010\u103a\u1019\u103c\u1031\u102c\u1000\u103a[C]\u1005\u1031\u1015\u103c\u102e<br/>\n                                         \n        [G]\u1000\u103b\u1031\u1038\u1007\u1030\u1038\u1010\u1031\u102c\u103a\u1000\u102c[D]\u101c\u104f\u1014\u1031\u1037[G]\u101b\u1000\u103a\u1019\u103b\u102c\u1038  \n</p>\n\n</div>\n    ',$(document).ready((function(){o.song=t,o.title=o.song.title,o.song.singer&&"no"!=o.song.singer&&(o.singer=o.singerTag+" "+o.song.singer),o.song.composer&&"no"!=o.song.composer&&(o.writer=o.writerTag+" "+o.song.composer),o.key="Key: "+o.song.key,o.safeSong=o.sanitizer.bypassSecurityTrustHtml(o.song.chord)}))}initSong(){let o=this;$(document).ready((function(){o.song=JSON.parse(Android.getSong()),o.title=o.song.title,o.song.singer&&"no"!=o.song.singer&&(o.singer=o.singerTag+" "+o.song.singer),o.song.composer&&"no"!=o.song.composer&&(o.writer=o.writerTag+" "+o.song.composer),o.key="Key: "+o.song.key,o.safeSong=o.sanitizer.bypassSecurityTrustHtml(o.song.chord)}))}initChord(){let o=new u;o.frets="0003",o.name="C",o.length=4,o.position=1;let t=new u;t.frets="0232",t.name="G",t.length=9,t.position=0;let e=new u;e.frets="2010",e.name="F",e.length=5,e.position=4;let n=new u;n.frets="2000",n.name="Am",n.length=12,n.position=0,this.chords.push(t),this.chords.push(o),this.chords.push(e),this.chords.push(n)}getKeyChangeShow(){return this.isKeyChangeShow?"true":"false"}logScrollStart(o){console.log("logScrollStart : When Scroll Starts",o)}logScrolling(o){console.log("logScrolling : When Scrolling",o),this.isAutoScrollStarted&&this.isAutoScrollStop&&(this.isAutoScrollStarted=!1,this.isAutoScrollStop=!1)}logScrollEnd(o){console.log("logScrollEnd : When Scroll Ends",o),this.isAutoScrollStarted=!1,this.isAutoScrollStop=!1}setAutoScrollEvent(){console.log("pause() call");var o=$("#song-container"),t=this;o.on("scroll mousedown wheel DOMMouseScroll mousewheel touchmove keyup",(function(e){o.stop(),(e.which>0||"mousedown"===e.type||"mousewheel"===e.type)&&o.stop().off("scroll mousedown DOMMouseScroll mousewheel keyup"),window.clearTimeout(t.isScrolling),t.isScrolling=setTimeout((function(){t.isAutoScrollStarted&&!t.isAutoScrollStop&&t.startScrollToBottom()}),66)}))}stopAutoScroll(){this.isAutoScrollStop=!0,this.isAutoScrollStarted=!1;var o=$("#song-container");o.stop(),o.stop()}updateAutoScrollSpeed(o){this.animMilli=503e3-o.detail.value,console.log(this.animMilli),this.isScrolling=!1,this.isAutoScrollStarted?(this.stopAutoScroll(),this.startAutoScroll()):this.startAutoScroll()}startAutoScroll(){this.isAutoScrollStarted||(this.isAutoScrollStarted=!0,this.isAutoScrollStop=!1,this.startScrollToBottom())}startScrollToBottom(){var o=$("#bottom").offset();$("#song-container").offset(),$("#song-container").animate({scrollTop:o.top},this.animMilli,"linear")}keyTransporse(){$("#custom-test").children("p").children().each((function(){let o=$(this).data("chord");console.log("chord",o);let t=transpose.shift(o,1);console.log("chord_transporse",t),$(this).attr("data-chord","C#min")}))}}return o.\u0275fac=function(t){return new(t||o)(l.Hb(l.z),l.Hb(n.k),l.Hb(l.h),l.Hb(c.b))},o.\u0275cmp=l.Bb({type:o,selectors:[["app-home"]],viewQuery:function(o,t){var e;1&o&&(l.fc(s.d,!0),l.fc(h,!0)),2&o&&(l.Xb(e=l.Sb())&&(t.content=e.first),l.Xb(e=l.Sb())&&(t.scrollDiv=e.first))},decls:21,vars:7,consts:[[3,"fullscreen","ionScrollStart","ionScroll","ionScrollEnd"],["id","song-container"],["scrollDiv",""],[2,"text-align","right"],["id","startClick",1,"btn",2,"font-size","small",3,"click"],["id","song-data"],[1,"ethar",2,"text-align","center"],[1,"ethar"],["class","c",4,"ngIf"],["class","ethar",4,"ngIf"],[1,"ethar",3,"innerHTML"],["id","bottom",1,"tag",2,"font-size","small"],[1,"c"]],template:function(o,t){1&o&&(l.Kb(0,"ion-content",0),l.Rb("ionScrollStart",(function(o){return t.logScrollStart(o)}))("ionScroll",(function(o){return t.logScrolling(o)}))("ionScrollEnd",(function(o){return t.logScrollEnd(o)})),l.Kb(1,"div",1,2),l.Kb(3,"div",3),l.Kb(4,"span",4),l.Rb("click",(function(){return t.startAutoScroll()})),l.cc(5,"Start Auto Scroll "),l.Jb(),l.Jb(),l.Kb(6,"div",5),l.Kb(7,"h5",6),l.cc(8),l.Jb(),l.Ib(9,"br"),l.Kb(10,"ion-label",7),l.cc(11),l.Jb(),l.Kb(12,"ion-label",7),l.bc(13,a,2,1,"span",8),l.Jb(),l.Ib(14,"br"),l.bc(15,g,2,1,"ion-label",9),l.bc(16,d,2,1,"ion-label",9),l.Jb(),l.Ib(17,"br"),l.Ib(18,"div",10),l.Kb(19,"span",11),l.cc(20,"End"),l.Jb(),l.Jb(),l.Jb()),2&o&&(l.Wb("fullscreen",!1),l.xb(8),l.dc(t.title),l.xb(3),l.dc(t.key),l.xb(2),l.Wb("ngIf",t.selected_key),l.xb(2),l.Wb("ngIf",t.writer),l.xb(1),l.Wb("ngIf",t.singer),l.xb(2),l.Wb("innerHTML",t.safeSong,l.Yb))},directives:[s.d,s.g,n.h],styles:["pre[_ngcontent-%COMP%]{word-break:normal!important;word-wrap:normal!important;white-space:pre!important;display:inline;margin:0}#song-container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;overflow:auto}ion-button[_ngcontent-%COMP%]{text-transform:none}span[data-chord][_ngcontent-%COMP%]:before{position:relative;top:-1em;display:inline-block;content:attr(data-chord);width:0;font-style:normal;font-weight:700;color:#f18a35;font-size:15px}.chord[_ngcontent-%COMP%]{position:absolute}.chord[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{color:#f18a35;position:relative;top:-1em}"]}),o})()}];let b=(()=>{class o{}return o.\u0275mod=l.Fb({type:o}),o.\u0275inj=l.Eb({factory:function(t){return new(t||o)},imports:[[r.j.forChild(p)],r.j]}),o})(),w=(()=>{class o{}return o.\u0275mod=l.Fb({type:o}),o.\u0275inj=l.Eb({factory:function(t){return new(t||o)},imports:[[n.b,i.b,s.k,b]]}),o})()}}]);