!function(){function o(o,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function t(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(n,e,i){"use strict";i.r(e),i.d(e,"HomePageModule",(function(){return k}));var s=i("ofXK"),r=i("TEn/"),l=i("3Pt+"),c=i("tyNb"),a=i("fXoL"),h=i("jhN1"),u=["scrollDiv"];function g(o,t){if(1&o&&(a.Kb(0,"span",12),a.cc(1),a.Jb()),2&o){var n=a.Tb();a.xb(1),a.ec(" [",n.selected_key,"]")}}function d(o,t){if(1&o&&(a.Kb(0,"ion-label",7),a.cc(1),a.Jb()),2&o){var n=a.Tb();a.xb(1),a.dc(n.writer)}}function S(o,t){if(1&o&&(a.Kb(0,"ion-label",7),a.cc(1),a.Jb()),2&o){var n=a.Tb();a.xb(1),a.dc(n.singer)}}var f,p,b,y=function o(){t(this,o)},w=function o(){t(this,o)},v=[{path:"",component:(f=function(){function n(o,e,i,s){var r=this;t(this,n),this.zone=o,this.viewportScroller=e,this.ref=i,this.sanitizer=s,this.chords=[],this.isScrollEvent=!0,this.scrollY=!0,this.isKeyChangeShow=!1,this.isChordShow=!1,this.isAutoScrollStop=!1,this.isAutoScrollStarted=!1,this.animMilli=5e4,this.writerTag="\u1010\u1031\u1038\u101b\u1031\u1038 - ",this.singerTag="\u1010\u1031\u1038\u1006\u102d\u102f - ",this.speed=100,this.curY=100,window.componentRef={zone:this.zone,componentFn:function(o){return r.getValue(o)},component:this},window.componentRef1={zone:this.zone,componentFn:function(o){return r.doFun(o)},component:this}}var e,i,s;return e=n,(i=[{key:"ngOnDestroy",value:function(){$("ion-content").off(),$("#song-container").stop(),$("#song-container").off()}},{key:"doFun",value:function(o){switch(o.action){case"toggleKeyChange":this.toggleKey();break;case"hideKeyChange":this.hideKey();break;case"showKeyChange":this.showKey();case"toggleChordDiagram":this.toggleChord();break;case"hideChordDiagram":this.hideChord();break;case"showChordDiagram":this.showChord();break;case"hideAll":this.hideAll();break;case"updateAutoScrollSpeed":this.updateAutoScrollSpeed({detail:{value:o.value}});break;case"startAutoScroll":this.startAutoScroll();break;case"stopAutoScroll":this.stopAutoScroll();break;case"updateAutoScrollSpeed":this.updateAutoScrollSpeed({detail:{value:o.value}})}}},{key:"hideAll",value:function(){this.hideKey(),this.hideChord()}},{key:"getValue",value:function(o){switch(o.action){case"isKeyChangeShow":return this.getKeyChangeShow();case"isSomethingShow":return this.isSomethingShow()}}},{key:"isSomethingShow",value:function(){return this.isKeyChangeShow||this.isChordShow?"true":this.isChordShow||this.isKeyChangeShow?void 0:"false"}},{key:"ngOnInit",value:function(){this.setEvents(),this.setData(),$(document).ready((function(){guitar_chord_writer.init("Key change","up a halftone","down a halftone")}))}},{key:"showKey",value:function(){$("#key-change-container").show(),this.hideChord(),this.isKeyChangeShow=!0}},{key:"hideKey",value:function(){$("#key-change-container").hide(),this.isKeyChangeShow=!1}},{key:"toggleChord",value:function(){this.isChordShow?this.hideChord():this.showChord()}},{key:"showChord",value:function(){$("#chord-diagram").show(),this.hideKey(),this.isChordShow=!0}},{key:"hideChord",value:function(){$("#chord-diagram").hide(),this.isChordShow=!1}},{key:"toggleKey",value:function(){this.isKeyChangeShow?this.hideKey():this.showKey()}},{key:"setEvents",value:function(){var o=this;$("ion-content").on("click",(function(t){o.hideKey()})),this.setAutoScrollEvent()}},{key:"setData",value:function(){this.initChord(),this.initSongToTest()}},{key:"initSongToTest",value:function(){var o=this,t=new w;t.singer="no",t.chord="no",t.composer="no",t.title="Title",t.chord='\n    <div class="song">\n                                                                                  \n<span class="tag">(Verse)</span>\n<p>\n    ([G]\u1001\u1036\u1005\u102c\u1038\u101b\u1006\u102f\u1000\u103b\u1031\u1038\u1007\u1030\u1038\u1000\u1031\u102c\u1004\u103a\u1038\u1000\u103c\u102e\u1038\u1019\u1004\u103a\u1039\u1002\u101c\u102c \u101b\u1031\u1010\u103d\u1000\u103a\u101c\u102d\u102f.\u1001\u103b\u102e\u1038\u1019\u103d\u1019\u103a\u1038\u1000\u102c\u101e\u102e[D]\u1006\u102d\u102f\u1019\u100a\u103a<br/>\n                                                 \n    \u1021\u101e\u1000\u103a[G]\u1019\u103d\u1031\u1038\u101c\u1031\u102c\u1000\u103a\u101e\u1031\u102c\u1021\u1005\u102c\u1000\u102d\u102f &nbsp;&nbsp;&nbsp;\u1014\u1031\u1037[C]&nbsp;\u101b\u1000\u103a\u1005\u1009\u103a\u1010\u102d\u102f\u1004\u103a\u1038<br/> \n                                                   \n    \u1015\u1031\u1038\u101e[G]&nbsp;\u1014\u102c\u1038\u1010\u1031\u102c\u103a\u1019\u1030\u101e\u1031\u102c[D]\u1000\u103c\u1031\u102c\u1004\u1037\u103a \u1000\u103b\u1031\u1038\u1007\u1030\u1038[G]\u1010\u1004\u103a\u101e\u100a\u103a)\u1042 \n</p>\n\n                \n<span class="tag">(Cho)</span> \n<p>\n        \u101e\u102c[C]\u101a\u102c\u101e\u1031\u102c\u1019\u103c\u1005\u103a\u1021\u1014\u102c\u1038\u101e\u102d\u102f\u1037[G] \u101c\u1019\u103a\u1038\u1015\u103c  \u1019\u103e\u102f  \u1015\u103c\u102e \u1005\u102d\u1019\u103a\u1038\u101c\u1014\u103a\u1038\u101e\u1031\u102c\u1021\u101b\u1015\u103a\u104c<br/>\n                                                                                                 \n        \u1021\u102d[D]\u1015\u103a\u1005\u1031\u1019\u1030\u1015\u103c\u102e\u1038 \u1016\u103b\u102c\u1038[G]\u101a\u1031\u102c\u1004\u103a\u1038\u101e\u103d\u1031\u1038\u1006\u1031\u102c\u1004\u103a\u1019\u103e\u102f  \u1021\u1015\u1031\u102b\u1004\u103a\u1038\u1010\u102d\u102f\u1037\u1019\u103e \u101c\u103d\u1010\u103a\u1019\u103c\u1031\u102c\u1000\u103a[C]\u1005\u1031\u1015\u103c\u102e<br/>\n                                         \n        [G]\u1000\u103b\u1031\u1038\u1007\u1030\u1038\u1010\u1031\u102c\u103a\u1000\u102c[D]\u101c\u104f\u1014\u1031\u1037[G]\u101b\u1000\u103a\u1019\u103b\u102c\u1038  \n</p>\n\n</div>\n    ',$(document).ready((function(){o.song=t,o.title=o.song.title,o.song.singer&&"no"!=o.song.singer&&(o.singer=o.singerTag+" "+o.song.singer),o.song.composer&&"no"!=o.song.composer&&(o.writer=o.writerTag+" "+o.song.composer),o.key="Key: "+o.song.key,o.safeSong=o.sanitizer.bypassSecurityTrustHtml(o.song.chord)}))}},{key:"initSong",value:function(){var o=this;$(document).ready((function(){o.song=JSON.parse(Android.getSong()),o.title=o.song.title,o.song.singer&&"no"!=o.song.singer&&(o.singer=o.singerTag+" "+o.song.singer),o.song.composer&&"no"!=o.song.composer&&(o.writer=o.writerTag+" "+o.song.composer),o.key="Key: "+o.song.key,o.safeSong=o.sanitizer.bypassSecurityTrustHtml(o.song.chord)}))}},{key:"initChord",value:function(){var o=new y;o.frets="0003",o.name="C",o.length=4,o.position=1;var t=new y;t.frets="0232",t.name="G",t.length=9,t.position=0;var n=new y;n.frets="2010",n.name="F",n.length=5,n.position=4;var e=new y;e.frets="2000",e.name="Am",e.length=12,e.position=0,this.chords.push(t),this.chords.push(o),this.chords.push(n),this.chords.push(e)}},{key:"getKeyChangeShow",value:function(){return this.isKeyChangeShow?"true":"false"}},{key:"logScrollStart",value:function(o){console.log("logScrollStart : When Scroll Starts",o)}},{key:"logScrolling",value:function(o){console.log("logScrolling : When Scrolling",o),this.isAutoScrollStarted&&this.isAutoScrollStop&&(this.isAutoScrollStarted=!1,this.isAutoScrollStop=!1)}},{key:"logScrollEnd",value:function(o){console.log("logScrollEnd : When Scroll Ends",o),this.isAutoScrollStarted=!1,this.isAutoScrollStop=!1}},{key:"setAutoScrollEvent",value:function(){console.log("pause() call");var o=$("#song-container"),t=this;o.on("scroll mousedown wheel DOMMouseScroll mousewheel touchmove keyup",(function(n){o.stop(),(n.which>0||"mousedown"===n.type||"mousewheel"===n.type)&&o.stop().off("scroll mousedown DOMMouseScroll mousewheel keyup"),window.clearTimeout(t.isScrolling),t.isScrolling=setTimeout((function(){t.isAutoScrollStarted&&!t.isAutoScrollStop&&t.startScrollToBottom()}),66)}))}},{key:"stopAutoScroll",value:function(){this.isAutoScrollStop=!0,this.isAutoScrollStarted=!1;var o=$("#song-container");o.stop(),o.stop()}},{key:"updateAutoScrollSpeed",value:function(o){this.animMilli=503e3-o.detail.value,console.log(this.animMilli),this.isScrolling=!1,this.isAutoScrollStarted?(this.stopAutoScroll(),this.startAutoScroll()):this.startAutoScroll()}},{key:"startAutoScroll",value:function(){this.isAutoScrollStarted||(this.isAutoScrollStarted=!0,this.isAutoScrollStop=!1,this.startScrollToBottom())}},{key:"startScrollToBottom",value:function(){var o=$("#bottom").offset();$("#song-container").offset(),$("#song-container").animate({scrollTop:o.top},this.animMilli,"linear")}},{key:"keyTransporse",value:function(){$("#custom-test").children("p").children().each((function(){var o=$(this).data("chord");console.log("chord",o);var t=transpose.shift(o,1);console.log("chord_transporse",t),$(this).attr("data-chord","C#min")}))}}])&&o(e.prototype,i),s&&o(e,s),n}(),f.\u0275fac=function(o){return new(o||f)(a.Hb(a.z),a.Hb(s.k),a.Hb(a.h),a.Hb(h.b))},f.\u0275cmp=a.Bb({type:f,selectors:[["app-home"]],viewQuery:function(o,t){var n;1&o&&(a.fc(r.d,!0),a.fc(u,!0)),2&o&&(a.Xb(n=a.Sb())&&(t.content=n.first),a.Xb(n=a.Sb())&&(t.scrollDiv=n.first))},decls:21,vars:7,consts:[[3,"fullscreen","ionScrollStart","ionScroll","ionScrollEnd"],["id","song-container"],["scrollDiv",""],[2,"text-align","right"],["id","startClick",1,"btn",2,"font-size","small",3,"click"],["id","song-data"],[1,"ethar",2,"text-align","center"],[1,"ethar"],["class","c",4,"ngIf"],["class","ethar",4,"ngIf"],[1,"ethar",3,"innerHTML"],["id","bottom",1,"tag",2,"font-size","small"],[1,"c"]],template:function(o,t){1&o&&(a.Kb(0,"ion-content",0),a.Rb("ionScrollStart",(function(o){return t.logScrollStart(o)}))("ionScroll",(function(o){return t.logScrolling(o)}))("ionScrollEnd",(function(o){return t.logScrollEnd(o)})),a.Kb(1,"div",1,2),a.Kb(3,"div",3),a.Kb(4,"span",4),a.Rb("click",(function(){return t.startAutoScroll()})),a.cc(5,"Start Auto Scroll "),a.Jb(),a.Jb(),a.Kb(6,"div",5),a.Kb(7,"h5",6),a.cc(8),a.Jb(),a.Ib(9,"br"),a.Kb(10,"ion-label",7),a.cc(11),a.Jb(),a.Kb(12,"ion-label",7),a.bc(13,g,2,1,"span",8),a.Jb(),a.Ib(14,"br"),a.bc(15,d,2,1,"ion-label",9),a.bc(16,S,2,1,"ion-label",9),a.Jb(),a.Ib(17,"br"),a.Ib(18,"div",10),a.Kb(19,"span",11),a.cc(20,"End"),a.Jb(),a.Jb(),a.Jb()),2&o&&(a.Wb("fullscreen",!1),a.xb(8),a.dc(t.title),a.xb(3),a.dc(t.key),a.xb(2),a.Wb("ngIf",t.selected_key),a.xb(2),a.Wb("ngIf",t.writer),a.xb(1),a.Wb("ngIf",t.singer),a.xb(2),a.Wb("innerHTML",t.safeSong,a.Yb))},directives:[r.d,r.g,s.h],styles:["pre[_ngcontent-%COMP%]{word-break:normal!important;word-wrap:normal!important;white-space:pre!important;display:inline;margin:0}#song-container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;overflow:auto}ion-button[_ngcontent-%COMP%]{text-transform:none}span[data-chord][_ngcontent-%COMP%]:before{position:relative;top:-1em;display:inline-block;content:attr(data-chord);width:0;font-style:normal;font-weight:700;color:#f18a35;font-size:15px}.chord[_ngcontent-%COMP%]{position:absolute}.chord[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{color:#f18a35;position:relative;top:-1em}"]}),f)}],m=((b=function o(){t(this,o)}).\u0275mod=a.Fb({type:b}),b.\u0275inj=a.Eb({factory:function(o){return new(o||b)},imports:[[c.j.forChild(v)],c.j]}),b),k=((p=function o(){t(this,o)}).\u0275mod=a.Fb({type:p}),p.\u0275inj=a.Eb({factory:function(o){return new(o||p)},imports:[[s.b,l.b,r.k,m]]}),p)}}])}();